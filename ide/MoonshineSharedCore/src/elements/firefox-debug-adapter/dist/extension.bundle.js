(()=>{var e={5089:(e,t,r)=>{var n=r(2086),o=r(930),i=r(9268),s=n.TypeError;e.exports=function(e){if(o(e))return e;throw s(i(e)+" is not a function")}},1449:(e,t,r)=>{var n=r(2086),o=r(1956),i=r(9268),s=n.TypeError;e.exports=function(e){if(o(e))return e;throw s(i(e)+" is not a constructor")}},1378:(e,t,r)=>{var n=r(2086),o=r(930),i=n.String,s=n.TypeError;e.exports=function(e){if("object"==typeof e||o(e))return e;throw s("Can't set "+i(e)+" as a prototype")}},8669:(e,t,r)=>{var n=r(211),o=r(4710),i=r(7826),s=n("unscopables"),a=Array.prototype;null==a[s]&&i.f(a,s,{configurable:!0,value:o(null)}),e.exports=function(e){a[s][e]=!0}},9966:(e,t,r)=>{"use strict";var n=r(3448).charAt;e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},1855:(e,t,r)=>{var n=r(2086),o=r(5516),i=n.TypeError;e.exports=function(e,t){if(o(t,e))return e;throw i("Incorrect invocation")}},6112:(e,t,r)=>{var n=r(2086),o=r(8759),i=n.String,s=n.TypeError;e.exports=function(e){if(o(e))return e;throw s(i(e)+" is not an object")}},6198:(e,t,r)=>{var n=r(4088),o=r(7740),i=r(2871),s=function(e){return function(t,r,s){var a,c=n(t),u=i(c),l=o(s,u);if(e&&r!=r){for(;u>l;)if((a=c[l++])!=a)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===r)return e||l||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},745:(e,t,r)=>{var n=r(8240);e.exports=n([].slice)},8939:(e,t,r)=>{var n=r(211)("iterator"),o=!1;try{var i=0,s={next:function(){return{done:!!i++}},return:function(){o=!0}};s[n]=function(){return this},Array.from(s,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var r=!1;try{var i={};i[n]=function(){return{next:function(){return{done:r=!0}}}},e(i)}catch(e){}return r}},2306:(e,t,r)=>{var n=r(8240),o=n({}.toString),i=n("".slice);e.exports=function(e){return i(o(e),8,-1)}},375:(e,t,r)=>{var n=r(2086),o=r(2371),i=r(930),s=r(2306),a=r(211)("toStringTag"),c=n.Object,u="Arguments"==s(function(){return arguments}());e.exports=o?s:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=c(e),a))?r:u?s(t):"Object"==(n=s(t))&&i(t.callee)?"Arguments":n}},8474:(e,t,r)=>{var n=r(9606),o=r(6095),i=r(4399),s=r(7826);e.exports=function(e,t){for(var r=o(t),a=s.f,c=i.f,u=0;u<r.length;u++){var l=r[u];n(e,l)||a(e,l,c(t,l))}}},7209:(e,t,r)=>{var n=r(3677);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},471:(e,t,r)=>{"use strict";var n=r(3083).IteratorPrototype,o=r(4710),i=r(5736),s=r(914),a=r(7719),c=function(){return this};e.exports=function(e,t,r){var u=t+" Iterator";return e.prototype=o(n,{next:i(1,r)}),s(e,u,!1,!0),a[u]=c,e}},2585:(e,t,r)=>{var n=r(5283),o=r(7826),i=r(5736);e.exports=n?function(e,t,r){return o.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},5736:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},8432:(e,t,r)=>{"use strict";var n=r(1695),o=r(9413),i=r(3296),s=r(4398),a=r(930),c=r(471),u=r(2130),l=r(7530),f=r(914),p=r(2585),d=r(1007),h=r(211),v=r(7719),g=r(3083),m=s.PROPER,b=s.CONFIGURABLE,x=g.IteratorPrototype,w=g.BUGGY_SAFARI_ITERATORS,y=h("iterator"),S="keys",O="values",I="entries",C=function(){return this};e.exports=function(e,t,r,s,h,g,E){c(r,t,s);var T,P,j,k=function(e){if(e===h&&D)return D;if(!w&&e in M)return M[e];switch(e){case S:case O:case I:return function(){return new r(this,e)}}return function(){return new r(this)}},F=t+" Iterator",A=!1,M=e.prototype,R=M[y]||M["@@iterator"]||h&&M[h],D=!w&&R||k(h),_="Array"==t&&M.entries||R;if(_&&(T=u(_.call(new e)))!==Object.prototype&&T.next&&(i||u(T)===x||(l?l(T,x):a(T[y])||d(T,y,C)),f(T,F,!0,!0),i&&(v[F]=C)),m&&h==O&&R&&R.name!==O&&(!i&&b?p(M,"name",O):(A=!0,D=function(){return o(R,this)})),h)if(P={values:k(O),keys:g?D:k(S),entries:k(I)},E)for(j in P)(w||A||!(j in M))&&d(M,j,P[j]);else n({target:t,proto:!0,forced:w||A},P);return i&&!E||M[y]===D||d(M,y,D,{name:h}),v[t]=D,P}},5283:(e,t,r)=>{var n=r(3677);e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},821:(e,t,r)=>{var n=r(2086),o=r(8759),i=n.document,s=o(i)&&o(i.createElement);e.exports=function(e){return s?i.createElement(e):{}}},172:e=>{e.exports="object"==typeof window},1848:(e,t,r)=>{var n=r(4999),o=r(2086);e.exports=/ipad|iphone|ipod/i.test(n)&&void 0!==o.Pebble},4344:(e,t,r)=>{var n=r(4999);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(n)},1801:(e,t,r)=>{var n=r(2306),o=r(2086);e.exports="process"==n(o.process)},4928:(e,t,r)=>{var n=r(4999);e.exports=/web0s(?!.*chrome)/i.test(n)},4999:(e,t,r)=>{var n=r(563);e.exports=n("navigator","userAgent")||""},1448:(e,t,r)=>{var n,o,i=r(2086),s=r(4999),a=i.process,c=i.Deno,u=a&&a.versions||c&&c.version,l=u&&u.v8;l&&(o=(n=l.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!o&&s&&(!(n=s.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=s.match(/Chrome\/(\d+)/))&&(o=+n[1]),e.exports=o},8684:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},1695:(e,t,r)=>{var n=r(2086),o=r(4399).f,i=r(2585),s=r(1007),a=r(3648),c=r(8474),u=r(7189);e.exports=function(e,t){var r,l,f,p,d,h=e.target,v=e.global,g=e.stat;if(r=v?n:g?n[h]||a(h,{}):(n[h]||{}).prototype)for(l in t){if(p=t[l],f=e.noTargetGet?(d=o(r,l))&&d.value:r[l],!u(v?l:h+(g?".":"#")+l,e.forced)&&void 0!==f){if(typeof p==typeof f)continue;c(p,f)}(e.sham||f&&f.sham)&&i(p,"sham",!0),s(r,l,p,e)}}},3677:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},2331:(e,t,r)=>{"use strict";r(2077);var n=r(8240),o=r(1007),i=r(4861),s=r(3677),a=r(211),c=r(2585),u=a("species"),l=RegExp.prototype;e.exports=function(e,t,r,f){var p=a(e),d=!s((function(){var t={};return t[p]=function(){return 7},7!=""[e](t)})),h=d&&!s((function(){var t=!1,r=/a/;return"split"===e&&((r={}).constructor={},r.constructor[u]=function(){return r},r.flags="",r[p]=/./[p]),r.exec=function(){return t=!0,null},r[p](""),!t}));if(!d||!h||r){var v=n(/./[p]),g=t(p,""[e],(function(e,t,r,o,s){var a=n(e),c=t.exec;return c===i||c===l.exec?d&&!s?{done:!0,value:v(t,r,o)}:{done:!0,value:a(r,t,o)}:{done:!1}}));o(String.prototype,e,g[0]),o(l,p,g[1])}f&&c(l[p],"sham",!0)}},7258:e=>{var t=Function.prototype,r=t.apply,n=t.bind,o=t.call;e.exports="object"==typeof Reflect&&Reflect.apply||(n?o.bind(r):function(){return o.apply(r,arguments)})},8516:(e,t,r)=>{var n=r(8240),o=r(5089),i=n(n.bind);e.exports=function(e,t){return o(e),void 0===t?e:i?i(e,t):function(){return e.apply(t,arguments)}}},9413:e=>{var t=Function.prototype.call;e.exports=t.bind?t.bind(t):function(){return t.apply(t,arguments)}},4398:(e,t,r)=>{var n=r(5283),o=r(9606),i=Function.prototype,s=n&&Object.getOwnPropertyDescriptor,a=o(i,"name"),c=a&&"something"===function(){}.name,u=a&&(!n||n&&s(i,"name").configurable);e.exports={EXISTS:a,PROPER:c,CONFIGURABLE:u}},8240:e=>{var t=Function.prototype,r=t.bind,n=t.call,o=r&&r.bind(n);e.exports=r?function(e){return e&&o(n,e)}:function(e){return e&&function(){return n.apply(e,arguments)}}},563:(e,t,r)=>{var n=r(2086),o=r(930),i=function(e){return o(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?i(n[e]):n[e]&&n[e][t]}},1667:(e,t,r)=>{var n=r(375),o=r(2964),i=r(7719),s=r(211)("iterator");e.exports=function(e){if(null!=e)return o(e,s)||o(e,"@@iterator")||i[n(e)]}},3546:(e,t,r)=>{var n=r(2086),o=r(9413),i=r(5089),s=r(6112),a=r(9268),c=r(1667),u=n.TypeError;e.exports=function(e,t){var r=arguments.length<2?c(e):t;if(i(r))return s(o(r,e));throw u(a(e)+" is not iterable")}},2964:(e,t,r)=>{var n=r(5089);e.exports=function(e,t){var r=e[t];return null==r?void 0:n(r)}},8509:(e,t,r)=>{var n=r(8240),o=r(3060),i=Math.floor,s=n("".charAt),a=n("".replace),c=n("".slice),u=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,r,n,f,p){var d=r+e.length,h=n.length,v=l;return void 0!==f&&(f=o(f),v=u),a(p,v,(function(o,a){var u;switch(s(a,0)){case"$":return"$";case"&":return e;case"`":return c(t,0,r);case"'":return c(t,d);case"<":u=f[c(a,1,-1)];break;default:var l=+a;if(0===l)return o;if(l>h){var p=i(l/10);return 0===p?o:p<=h?void 0===n[p-1]?s(a,1):n[p-1]+s(a,1):o}u=n[l-1]}return void 0===u?"":u}))}},2086:e=>{var t=function(e){return e&&e.Math==Math&&e};e.exports=t("object"==typeof globalThis&&globalThis)||t("object"==typeof window&&window)||t("object"==typeof self&&self)||t("object"==typeof global&&global)||function(){return this}()||Function("return this")()},9606:(e,t,r)=>{var n=r(8240),o=r(3060),i=n({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return i(o(e),t)}},7153:e=>{e.exports={}},1670:(e,t,r)=>{var n=r(2086);e.exports=function(e,t){var r=n.console;r&&r.error&&(1==arguments.length?r.error(e):r.error(e,t))}},5963:(e,t,r)=>{var n=r(563);e.exports=n("document","documentElement")},6761:(e,t,r)=>{var n=r(5283),o=r(3677),i=r(821);e.exports=!n&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},5974:(e,t,r)=>{var n=r(2086),o=r(8240),i=r(3677),s=r(2306),a=n.Object,c=o("".split);e.exports=i((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"==s(e)?c(e,""):a(e)}:a},9277:(e,t,r)=>{var n=r(8240),o=r(930),i=r(4489),s=n(Function.toString);o(i.inspectSource)||(i.inspectSource=function(e){return s(e)}),e.exports=i.inspectSource},3278:(e,t,r)=>{var n,o,i,s=r(9316),a=r(2086),c=r(8240),u=r(8759),l=r(2585),f=r(9606),p=r(4489),d=r(8944),h=r(7153),v="Object already initialized",g=a.TypeError,m=a.WeakMap;if(s||p.state){var b=p.state||(p.state=new m),x=c(b.get),w=c(b.has),y=c(b.set);n=function(e,t){if(w(b,e))throw new g(v);return t.facade=e,y(b,e,t),t},o=function(e){return x(b,e)||{}},i=function(e){return w(b,e)}}else{var S=d("state");h[S]=!0,n=function(e,t){if(f(e,S))throw new g(v);return t.facade=e,l(e,S,t),t},o=function(e){return f(e,S)?e[S]:{}},i=function(e){return f(e,S)}}e.exports={set:n,get:o,has:i,enforce:function(e){return i(e)?o(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!u(t)||(r=o(t)).type!==e)throw g("Incompatible receiver, "+e+" required");return r}}}},2814:(e,t,r)=>{var n=r(211),o=r(7719),i=n("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||s[i]===e)}},930:e=>{e.exports=function(e){return"function"==typeof e}},1956:(e,t,r)=>{var n=r(8240),o=r(3677),i=r(930),s=r(375),a=r(563),c=r(9277),u=function(){},l=[],f=a("Reflect","construct"),p=/^\s*(?:class|function)\b/,d=n(p.exec),h=!p.exec(u),v=function(e){if(!i(e))return!1;try{return f(u,l,e),!0}catch(e){return!1}};e.exports=!f||o((function(){var e;return v(v.call)||!v(Object)||!v((function(){e=!0}))||e}))?function(e){if(!i(e))return!1;switch(s(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return h||!!d(p,c(e))}:v},7189:(e,t,r)=>{var n=r(3677),o=r(930),i=/#|\.prototype\./,s=function(e,t){var r=c[a(e)];return r==l||r!=u&&(o(t)?n(t):!!t)},a=s.normalize=function(e){return String(e).replace(i,".").toLowerCase()},c=s.data={},u=s.NATIVE="N",l=s.POLYFILL="P";e.exports=s},8759:(e,t,r)=>{var n=r(930);e.exports=function(e){return"object"==typeof e?null!==e:n(e)}},3296:e=>{e.exports=!1},2071:(e,t,r)=>{var n=r(2086),o=r(563),i=r(930),s=r(5516),a=r(1876),c=n.Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=o("Symbol");return i(t)&&s(t.prototype,c(e))}},4722:(e,t,r)=>{var n=r(2086),o=r(8516),i=r(9413),s=r(6112),a=r(9268),c=r(2814),u=r(2871),l=r(5516),f=r(3546),p=r(1667),d=r(6737),h=n.TypeError,v=function(e,t){this.stopped=e,this.result=t},g=v.prototype;e.exports=function(e,t,r){var n,m,b,x,w,y,S,O=r&&r.that,I=!(!r||!r.AS_ENTRIES),C=!(!r||!r.IS_ITERATOR),E=!(!r||!r.INTERRUPTED),T=o(t,O),P=function(e){return n&&d(n,"normal",e),new v(!0,e)},j=function(e){return I?(s(e),E?T(e[0],e[1],P):T(e[0],e[1])):E?T(e,P):T(e)};if(C)n=e;else{if(!(m=p(e)))throw h(a(e)+" is not iterable");if(c(m)){for(b=0,x=u(e);x>b;b++)if((w=j(e[b]))&&l(g,w))return w;return new v(!1)}n=f(e,m)}for(y=n.next;!(S=i(y,n)).done;){try{w=j(S.value)}catch(e){d(n,"throw",e)}if("object"==typeof w&&w&&l(g,w))return w}return new v(!1)}},6737:(e,t,r)=>{var n=r(9413),o=r(6112),i=r(2964);e.exports=function(e,t,r){var s,a;o(e);try{if(!(s=i(e,"return"))){if("throw"===t)throw r;return r}s=n(s,e)}catch(e){a=!0,s=e}if("throw"===t)throw r;if(a)throw s;return o(s),r}},3083:(e,t,r)=>{"use strict";var n,o,i,s=r(3677),a=r(930),c=r(4710),u=r(2130),l=r(1007),f=r(211),p=r(3296),d=f("iterator"),h=!1;[].keys&&("next"in(i=[].keys())?(o=u(u(i)))!==Object.prototype&&(n=o):h=!0),null==n||s((function(){var e={};return n[d].call(e)!==e}))?n={}:p&&(n=c(n)),a(n[d])||l(n,d,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:h}},7719:e=>{e.exports={}},2871:(e,t,r)=>{var n=r(4005);e.exports=function(e){return n(e.length)}},3173:(e,t,r)=>{var n,o,i,s,a,c,u,l,f=r(2086),p=r(8516),d=r(4399).f,h=r(4953).set,v=r(4344),g=r(1848),m=r(4928),b=r(1801),x=f.MutationObserver||f.WebKitMutationObserver,w=f.document,y=f.process,S=f.Promise,O=d(f,"queueMicrotask"),I=O&&O.value;I||(n=function(){var e,t;for(b&&(e=y.domain)&&e.exit();o;){t=o.fn,o=o.next;try{t()}catch(e){throw o?s():i=void 0,e}}i=void 0,e&&e.enter()},v||b||m||!x||!w?!g&&S&&S.resolve?((u=S.resolve(void 0)).constructor=S,l=p(u.then,u),s=function(){l(n)}):b?s=function(){y.nextTick(n)}:(h=p(h,f),s=function(){h(n)}):(a=!0,c=w.createTextNode(""),new x(n).observe(c,{characterData:!0}),s=function(){c.data=a=!a})),e.exports=I||function(e){var t={fn:e,next:void 0};i&&(i.next=t),o||(o=t,s()),i=t}},8109:(e,t,r)=>{var n=r(2086);e.exports=n.Promise},3193:(e,t,r)=>{var n=r(1448),o=r(3677);e.exports=!!Object.getOwnPropertySymbols&&!o((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},9316:(e,t,r)=>{var n=r(2086),o=r(930),i=r(9277),s=n.WeakMap;e.exports=o(s)&&/native code/.test(i(s))},8722:(e,t,r)=>{"use strict";var n=r(5089),o=function(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n})),this.resolve=n(t),this.reject=n(r)};e.exports.f=function(e){return new o(e)}},4710:(e,t,r)=>{var n,o=r(6112),i=r(7711),s=r(8684),a=r(7153),c=r(5963),u=r(821),l=r(8944)("IE_PROTO"),f=function(){},p=function(e){return"<script>"+e+"<\/script>"},d=function(e){e.write(p("")),e.close();var t=e.parentWindow.Object;return e=null,t},h=function(){try{n=new ActiveXObject("htmlfile")}catch(e){}var e,t;h="undefined"!=typeof document?document.domain&&n?d(n):((t=u("iframe")).style.display="none",c.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(p("document.F=Object")),e.close(),e.F):d(n);for(var r=s.length;r--;)delete h.prototype[s[r]];return h()};a[l]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(f.prototype=o(e),r=new f,f.prototype=null,r[l]=e):r=h(),void 0===t?r:i(r,t)}},7711:(e,t,r)=>{var n=r(5283),o=r(7826),i=r(6112),s=r(4088),a=r(8779);e.exports=n?Object.defineProperties:function(e,t){i(e);for(var r,n=s(t),c=a(t),u=c.length,l=0;u>l;)o.f(e,r=c[l++],n[r]);return e}},7826:(e,t,r)=>{var n=r(2086),o=r(5283),i=r(6761),s=r(6112),a=r(2258),c=n.TypeError,u=Object.defineProperty;t.f=o?u:function(e,t,r){if(s(e),t=a(t),s(r),i)try{return u(e,t,r)}catch(e){}if("get"in r||"set"in r)throw c("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},4399:(e,t,r)=>{var n=r(5283),o=r(9413),i=r(7446),s=r(5736),a=r(4088),c=r(2258),u=r(9606),l=r(6761),f=Object.getOwnPropertyDescriptor;t.f=n?f:function(e,t){if(e=a(e),t=c(t),l)try{return f(e,t)}catch(e){}if(u(e,t))return s(!o(i.f,e,t),e[t])}},62:(e,t,r)=>{var n=r(1352),o=r(8684).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,o)}},6952:(e,t)=>{t.f=Object.getOwnPropertySymbols},2130:(e,t,r)=>{var n=r(2086),o=r(9606),i=r(930),s=r(3060),a=r(8944),c=r(7209),u=a("IE_PROTO"),l=n.Object,f=l.prototype;e.exports=c?l.getPrototypeOf:function(e){var t=s(e);if(o(t,u))return t[u];var r=t.constructor;return i(r)&&t instanceof r?r.prototype:t instanceof l?f:null}},5516:(e,t,r)=>{var n=r(8240);e.exports=n({}.isPrototypeOf)},1352:(e,t,r)=>{var n=r(8240),o=r(9606),i=r(4088),s=r(6198).indexOf,a=r(7153),c=n([].push);e.exports=function(e,t){var r,n=i(e),u=0,l=[];for(r in n)!o(a,r)&&o(n,r)&&c(l,r);for(;t.length>u;)o(n,r=t[u++])&&(~s(l,r)||c(l,r));return l}},8779:(e,t,r)=>{var n=r(1352),o=r(8684);e.exports=Object.keys||function(e){return n(e,o)}},7446:(e,t)=>{"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,o=n&&!r.call({1:2},1);t.f=o?function(e){var t=n(this,e);return!!t&&t.enumerable}:r},7530:(e,t,r)=>{var n=r(8240),o=r(6112),i=r(1378);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=n(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(r,[]),t=r instanceof Array}catch(e){}return function(r,n){return o(r),i(n),t?e(r,n):r.__proto__=n,r}}():void 0)},7999:(e,t,r)=>{var n=r(2086),o=r(9413),i=r(930),s=r(8759),a=n.TypeError;e.exports=function(e,t){var r,n;if("string"===t&&i(r=e.toString)&&!s(n=o(r,e)))return n;if(i(r=e.valueOf)&&!s(n=o(r,e)))return n;if("string"!==t&&i(r=e.toString)&&!s(n=o(r,e)))return n;throw a("Can't convert object to primitive value")}},6095:(e,t,r)=>{var n=r(563),o=r(8240),i=r(62),s=r(6952),a=r(6112),c=o([].concat);e.exports=n("Reflect","ownKeys")||function(e){var t=i.f(a(e)),r=s.f;return r?c(t,r(e)):t}},4522:e=>{e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},880:(e,t,r)=>{var n=r(6112),o=r(8759),i=r(8722);e.exports=function(e,t){if(n(e),o(t)&&t.constructor===e)return t;var r=i.f(e);return(0,r.resolve)(t),r.promise}},9431:(e,t,r)=>{var n=r(1007);e.exports=function(e,t,r){for(var o in t)n(e,o,t[o],r);return e}},1007:(e,t,r)=>{var n=r(2086),o=r(930),i=r(9606),s=r(2585),a=r(3648),c=r(9277),u=r(3278),l=r(4398).CONFIGURABLE,f=u.get,p=u.enforce,d=String(String).split("String");(e.exports=function(e,t,r,c){var u,f=!!c&&!!c.unsafe,h=!!c&&!!c.enumerable,v=!!c&&!!c.noTargetGet,g=c&&void 0!==c.name?c.name:t;o(r)&&("Symbol("===String(g).slice(0,7)&&(g="["+String(g).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!i(r,"name")||l&&r.name!==g)&&s(r,"name",g),(u=p(r)).source||(u.source=d.join("string"==typeof g?g:""))),e!==n?(f?!v&&e[t]&&(h=!0):delete e[t],h?e[t]=r:s(e,t,r)):h?e[t]=r:a(t,r)})(Function.prototype,"toString",(function(){return o(this)&&f(this).source||c(this)}))},1189:(e,t,r)=>{var n=r(2086),o=r(9413),i=r(6112),s=r(930),a=r(2306),c=r(4861),u=n.TypeError;e.exports=function(e,t){var r=e.exec;if(s(r)){var n=o(r,e,t);return null!==n&&i(n),n}if("RegExp"===a(e))return o(c,e,t);throw u("RegExp#exec called on incompatible receiver")}},4861:(e,t,r)=>{"use strict";var n,o,i=r(9413),s=r(8240),a=r(4059),c=r(4276),u=r(4930),l=r(9197),f=r(4710),p=r(3278).get,d=r(2582),h=r(2910),v=l("native-string-replace",String.prototype.replace),g=RegExp.prototype.exec,m=g,b=s("".charAt),x=s("".indexOf),w=s("".replace),y=s("".slice),S=(o=/b*/g,i(g,n=/a/,"a"),i(g,o,"a"),0!==n.lastIndex||0!==o.lastIndex),O=u.UNSUPPORTED_Y||u.BROKEN_CARET,I=void 0!==/()??/.exec("")[1];(S||I||O||d||h)&&(m=function(e){var t,r,n,o,s,u,l,d=this,h=p(d),C=a(e),E=h.raw;if(E)return E.lastIndex=d.lastIndex,t=i(m,E,C),d.lastIndex=E.lastIndex,t;var T=h.groups,P=O&&d.sticky,j=i(c,d),k=d.source,F=0,A=C;if(P&&(j=w(j,"y",""),-1===x(j,"g")&&(j+="g"),A=y(C,d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==b(C,d.lastIndex-1))&&(k="(?: "+k+")",A=" "+A,F++),r=new RegExp("^(?:"+k+")",j)),I&&(r=new RegExp("^"+k+"$(?!\\s)",j)),S&&(n=d.lastIndex),o=i(g,P?r:d,A),P?o?(o.input=y(o.input,F),o[0]=y(o[0],F),o.index=d.lastIndex,d.lastIndex+=o[0].length):d.lastIndex=0:S&&o&&(d.lastIndex=d.global?o.index+o[0].length:n),I&&o&&o.length>1&&i(v,o[0],r,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(o[s]=void 0)})),o&&T)for(o.groups=u=f(null),s=0;s<T.length;s++)u[(l=T[s])[0]]=o[l[1]];return o}),e.exports=m},4276:(e,t,r)=>{"use strict";var n=r(6112);e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},4930:(e,t,r)=>{var n=r(3677),o=r(2086).RegExp;t.UNSUPPORTED_Y=n((function(){var e=o("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=n((function(){var e=o("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},2582:(e,t,r)=>{var n=r(3677),o=r(2086).RegExp;e.exports=n((function(){var e=o(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},2910:(e,t,r)=>{var n=r(3677),o=r(2086).RegExp;e.exports=n((function(){var e=o("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},9586:(e,t,r)=>{var n=r(2086).TypeError;e.exports=function(e){if(null==e)throw n("Can't call method on "+e);return e}},3648:(e,t,r)=>{var n=r(2086),o=Object.defineProperty;e.exports=function(e,t){try{o(n,e,{value:t,configurable:!0,writable:!0})}catch(r){n[e]=t}return t}},7420:(e,t,r)=>{"use strict";var n=r(563),o=r(7826),i=r(211),s=r(5283),a=i("species");e.exports=function(e){var t=n(e),r=o.f;s&&t&&!t[a]&&r(t,a,{configurable:!0,get:function(){return this}})}},914:(e,t,r)=>{var n=r(7826).f,o=r(9606),i=r(211)("toStringTag");e.exports=function(e,t,r){e&&!o(e=r?e:e.prototype,i)&&n(e,i,{configurable:!0,value:t})}},8944:(e,t,r)=>{var n=r(9197),o=r(5422),i=n("keys");e.exports=function(e){return i[e]||(i[e]=o(e))}},4489:(e,t,r)=>{var n=r(2086),o=r(3648),i="__core-js_shared__",s=n[i]||o(i,{});e.exports=s},9197:(e,t,r)=>{var n=r(3296),o=r(4489);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.19.1",mode:n?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},8515:(e,t,r)=>{var n=r(6112),o=r(1449),i=r(211)("species");e.exports=function(e,t){var r,s=n(e).constructor;return void 0===s||null==(r=n(s)[i])?t:o(r)}},3448:(e,t,r)=>{var n=r(8240),o=r(9502),i=r(4059),s=r(9586),a=n("".charAt),c=n("".charCodeAt),u=n("".slice),l=function(e){return function(t,r){var n,l,f=i(s(t)),p=o(r),d=f.length;return p<0||p>=d?e?"":void 0:(n=c(f,p))<55296||n>56319||p+1===d||(l=c(f,p+1))<56320||l>57343?e?a(f,p):n:e?u(f,p,p+2):l-56320+(n-55296<<10)+65536}};e.exports={codeAt:l(!1),charAt:l(!0)}},4953:(e,t,r)=>{var n,o,i,s,a=r(2086),c=r(7258),u=r(8516),l=r(930),f=r(9606),p=r(3677),d=r(5963),h=r(745),v=r(821),g=r(4344),m=r(1801),b=a.setImmediate,x=a.clearImmediate,w=a.process,y=a.Dispatch,S=a.Function,O=a.MessageChannel,I=a.String,C=0,E={};try{n=a.location}catch(e){}var T=function(e){if(f(E,e)){var t=E[e];delete E[e],t()}},P=function(e){return function(){T(e)}},j=function(e){T(e.data)},k=function(e){a.postMessage(I(e),n.protocol+"//"+n.host)};b&&x||(b=function(e){var t=h(arguments,1);return E[++C]=function(){c(l(e)?e:S(e),void 0,t)},o(C),C},x=function(e){delete E[e]},m?o=function(e){w.nextTick(P(e))}:y&&y.now?o=function(e){y.now(P(e))}:O&&!g?(s=(i=new O).port2,i.port1.onmessage=j,o=u(s.postMessage,s)):a.addEventListener&&l(a.postMessage)&&!a.importScripts&&n&&"file:"!==n.protocol&&!p(k)?(o=k,a.addEventListener("message",j,!1)):o="onreadystatechange"in v("script")?function(e){d.appendChild(v("script")).onreadystatechange=function(){d.removeChild(this),T(e)}}:function(e){setTimeout(P(e),0)}),e.exports={set:b,clear:x}},7740:(e,t,r)=>{var n=r(9502),o=Math.max,i=Math.min;e.exports=function(e,t){var r=n(e);return r<0?o(r+t,0):i(r,t)}},4088:(e,t,r)=>{var n=r(5974),o=r(9586);e.exports=function(e){return n(o(e))}},9502:e=>{var t=Math.ceil,r=Math.floor;e.exports=function(e){var n=+e;return n!=n||0===n?0:(n>0?r:t)(n)}},4005:(e,t,r)=>{var n=r(9502),o=Math.min;e.exports=function(e){return e>0?o(n(e),9007199254740991):0}},3060:(e,t,r)=>{var n=r(2086),o=r(9586),i=n.Object;e.exports=function(e){return i(o(e))}},1288:(e,t,r)=>{var n=r(2086),o=r(9413),i=r(8759),s=r(2071),a=r(2964),c=r(7999),u=r(211),l=n.TypeError,f=u("toPrimitive");e.exports=function(e,t){if(!i(e)||s(e))return e;var r,n=a(e,f);if(n){if(void 0===t&&(t="default"),r=o(n,e,t),!i(r)||s(r))return r;throw l("Can't convert object to primitive value")}return void 0===t&&(t="number"),c(e,t)}},2258:(e,t,r)=>{var n=r(1288),o=r(2071);e.exports=function(e){var t=n(e,"string");return o(t)?t:t+""}},2371:(e,t,r)=>{var n={};n[r(211)("toStringTag")]="z",e.exports="[object z]"===String(n)},4059:(e,t,r)=>{var n=r(2086),o=r(375),i=n.String;e.exports=function(e){if("Symbol"===o(e))throw TypeError("Cannot convert a Symbol value to a string");return i(e)}},9268:(e,t,r)=>{var n=r(2086).String;e.exports=function(e){try{return n(e)}catch(e){return"Object"}}},5422:(e,t,r)=>{var n=r(8240),o=0,i=Math.random(),s=n(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+s(++o+i,36)}},1876:(e,t,r)=>{var n=r(3193);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},211:(e,t,r)=>{var n=r(2086),o=r(9197),i=r(9606),s=r(5422),a=r(3193),c=r(1876),u=o("wks"),l=n.Symbol,f=l&&l.for,p=c?l:l&&l.withoutSetter||s;e.exports=function(e){if(!i(u,e)||!a&&"string"!=typeof u[e]){var t="Symbol."+e;a&&i(l,e)?u[e]=l[e]:u[e]=c&&f?f(t):p(t)}return u[e]}},5769:(e,t,r)=>{"use strict";var n=r(4088),o=r(8669),i=r(7719),s=r(3278),a=r(8432),c="Array Iterator",u=s.set,l=s.getterFor(c);e.exports=a(Array,"Array",(function(e,t){u(this,{type:c,target:n(e),index:0,kind:t})}),(function(){var e=l(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}}),"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},1418:(e,t,r)=>{"use strict";var n,o,i,s,a=r(1695),c=r(3296),u=r(2086),l=r(563),f=r(9413),p=r(8109),d=r(1007),h=r(9431),v=r(7530),g=r(914),m=r(7420),b=r(5089),x=r(930),w=r(8759),y=r(1855),S=r(9277),O=r(4722),I=r(8939),C=r(8515),E=r(4953).set,T=r(3173),P=r(880),j=r(1670),k=r(8722),F=r(4522),A=r(3278),M=r(7189),R=r(211),D=r(172),_=r(1801),U=r(1448),$=R("species"),N="Promise",W=A.get,B=A.set,V=A.getterFor(N),L=p&&p.prototype,z=p,G=L,q=u.TypeError,Y=u.document,K=u.process,Z=k.f,X=Z,H=!!(Y&&Y.createEvent&&u.dispatchEvent),J=x(u.PromiseRejectionEvent),Q="unhandledrejection",ee=!1,te=M(N,(function(){var e=S(z),t=e!==String(z);if(!t&&66===U)return!0;if(c&&!G.finally)return!0;if(U>=51&&/native code/.test(e))return!1;var r=new z((function(e){e(1)})),n=function(e){e((function(){}),(function(){}))};return(r.constructor={})[$]=n,!(ee=r.then((function(){}))instanceof n)||!t&&D&&!J})),re=te||!I((function(e){z.all(e).catch((function(){}))})),ne=function(e){var t;return!(!w(e)||!x(t=e.then))&&t},oe=function(e,t){if(!e.notified){e.notified=!0;var r=e.reactions;T((function(){for(var n=e.value,o=1==e.state,i=0;r.length>i;){var s,a,c,u=r[i++],l=o?u.ok:u.fail,p=u.resolve,d=u.reject,h=u.domain;try{l?(o||(2===e.rejection&&ce(e),e.rejection=1),!0===l?s=n:(h&&h.enter(),s=l(n),h&&(h.exit(),c=!0)),s===u.promise?d(q("Promise-chain cycle")):(a=ne(s))?f(a,s,p,d):p(s)):d(n)}catch(e){h&&!c&&h.exit(),d(e)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&se(e)}))}},ie=function(e,t,r){var n,o;H?((n=Y.createEvent("Event")).promise=t,n.reason=r,n.initEvent(e,!1,!0),u.dispatchEvent(n)):n={promise:t,reason:r},!J&&(o=u["on"+e])?o(n):e===Q&&j("Unhandled promise rejection",r)},se=function(e){f(E,u,(function(){var t,r=e.facade,n=e.value;if(ae(e)&&(t=F((function(){_?K.emit("unhandledRejection",n,r):ie(Q,r,n)})),e.rejection=_||ae(e)?2:1,t.error))throw t.value}))},ae=function(e){return 1!==e.rejection&&!e.parent},ce=function(e){f(E,u,(function(){var t=e.facade;_?K.emit("rejectionHandled",t):ie("rejectionhandled",t,e.value)}))},ue=function(e,t,r){return function(n){e(t,n,r)}},le=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=2,oe(e,!0))},fe=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw q("Promise can't be resolved itself");var n=ne(t);n?T((function(){var r={done:!1};try{f(n,t,ue(fe,r,e),ue(le,r,e))}catch(t){le(r,t,e)}})):(e.value=t,e.state=1,oe(e,!1))}catch(t){le({done:!1},t,e)}}};if(te&&(G=(z=function(e){y(this,G),b(e),f(n,this);var t=W(this);try{e(ue(fe,t),ue(le,t))}catch(e){le(t,e)}}).prototype,(n=function(e){B(this,{type:N,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=h(G,{then:function(e,t){var r=V(this),n=r.reactions,o=Z(C(this,z));return o.ok=!x(e)||e,o.fail=x(t)&&t,o.domain=_?K.domain:void 0,r.parent=!0,n[n.length]=o,0!=r.state&&oe(r,!1),o.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new n,t=W(e);this.promise=e,this.resolve=ue(fe,t),this.reject=ue(le,t)},k.f=Z=function(e){return e===z||e===i?new o(e):X(e)},!c&&x(p)&&L!==Object.prototype)){s=L.then,ee||(d(L,"then",(function(e,t){var r=this;return new z((function(e,t){f(s,r,e,t)})).then(e,t)}),{unsafe:!0}),d(L,"catch",G.catch,{unsafe:!0}));try{delete L.constructor}catch(e){}v&&v(L,G)}a({global:!0,wrap:!0,forced:te},{Promise:z}),g(z,N,!1,!0),m(N),i=l(N),a({target:N,stat:!0,forced:te},{reject:function(e){var t=Z(this);return f(t.reject,void 0,e),t.promise}}),a({target:N,stat:!0,forced:c||te},{resolve:function(e){return P(c&&this===i?z:this,e)}}),a({target:N,stat:!0,forced:re},{all:function(e){var t=this,r=Z(t),n=r.resolve,o=r.reject,i=F((function(){var r=b(t.resolve),i=[],s=0,a=1;O(e,(function(e){var c=s++,u=!1;a++,f(r,t,e).then((function(e){u||(u=!0,i[c]=e,--a||n(i))}),o)})),--a||n(i)}));return i.error&&o(i.value),r.promise},race:function(e){var t=this,r=Z(t),n=r.reject,o=F((function(){var o=b(t.resolve);O(e,(function(e){f(o,t,e).then(r.resolve,n)}))}));return o.error&&n(o.value),r.promise}})},2077:(e,t,r)=>{"use strict";var n=r(1695),o=r(4861);n({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},911:(e,t,r)=>{"use strict";var n=r(7258),o=r(9413),i=r(8240),s=r(2331),a=r(3677),c=r(6112),u=r(930),l=r(9502),f=r(4005),p=r(4059),d=r(9586),h=r(9966),v=r(2964),g=r(8509),m=r(1189),b=r(211)("replace"),x=Math.max,w=Math.min,y=i([].concat),S=i([].push),O=i("".indexOf),I=i("".slice),C="$0"==="a".replace(/./,"$0"),E=!!/./[b]&&""===/./[b]("a","$0");s("replace",(function(e,t,r){var i=E?"$":"$0";return[function(e,r){var n=d(this),i=null==e?void 0:v(e,b);return i?o(i,e,n,r):o(t,p(n),e,r)},function(e,o){var s=c(this),a=p(e);if("string"==typeof o&&-1===O(o,i)&&-1===O(o,"$<")){var d=r(t,s,a,o);if(d.done)return d.value}var v=u(o);v||(o=p(o));var b=s.global;if(b){var C=s.unicode;s.lastIndex=0}for(var E=[];;){var T=m(s,a);if(null===T)break;if(S(E,T),!b)break;""===p(T[0])&&(s.lastIndex=h(a,f(s.lastIndex),C))}for(var P,j="",k=0,F=0;F<E.length;F++){for(var A=p((T=E[F])[0]),M=x(w(l(T.index),a.length),0),R=[],D=1;D<T.length;D++)S(R,void 0===(P=T[D])?P:String(P));var _=T.groups;if(v){var U=y([A],R,M,a);void 0!==_&&S(U,_);var $=p(n(o,void 0,U))}else $=g(A,a,M,R,_,o);M>=k&&(j+=I(a,k,M)+$,k=M+A.length)}return j+I(a,k)}]}),!!a((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!C||E)},2189:(e,t,r)=>{"use strict";var n=r(1695),o=r(5283),i=r(2086),s=r(8240),a=r(9606),c=r(930),u=r(5516),l=r(4059),f=r(7826).f,p=r(8474),d=i.Symbol,h=d&&d.prototype;if(o&&c(d)&&(!("description"in h)||void 0!==d().description)){var v={},g=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),t=u(h,this)?new d(e):void 0===e?d():d(e);return""===e&&(v[t]=!0),t};p(g,d),g.prototype=h,h.constructor=g;var m="Symbol(test)"==String(d("test")),b=s(h.toString),x=s(h.valueOf),w=/^Symbol\((.*)\)[^)]+$/,y=s("".replace),S=s("".slice);f(h,"description",{configurable:!0,get:function(){var e=x(this),t=b(e);if(a(v,e))return"";var r=m?S(t,7,-1):y(t,w,"$1");return""===r?void 0:r}}),n({global:!0,forced:!0},{Symbol:g})}},8018:e=>{"use strict";e.exports=e=>{if("string"!=typeof e)throw new TypeError(`Expected a \`string\`, got \`${typeof e}\``);return!/^[a-zA-Z]:\\/.test(e)&&/^[a-zA-Z][a-zA-Z\d+\-.]*:/.test(e)}}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{"use strict";r.r(n),r.d(n,{activate:()=>W}),r(1418);const e=require("vscode");var t=r.n(e),o=r(8018),i=r.n(o);r(2189);class s{constructor(t,r,n,o=e.TreeItemCollapsibleState.Collapsed){var i,s;this.parent=r,s=void 0,(i="treeItem")in this?Object.defineProperty(this,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):this[i]=s,this.treeItem=new e.TreeItem(t,o),this.treeItem.description=n}getFullPath(){return""}}r(2077);class a extends s{constructor(t,r,n,o,i){let s;super(t.length>0?t:"(index)",o,r,e.TreeItemCollapsibleState.None),this.treeItem.contextValue="file",s=n.path?n.path:`debug:${encodeURIComponent(n.url)}?session=${encodeURIComponent(i)}&ref=${n.sourceId}`,this.treeItem.command={command:"extension.firefox.openScript",arguments:[s],title:""}}getChildren(){return[]}getFullPath(){return this.parent.getFullPath()+this.treeItem.label}}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class u extends s{constructor(e,t){super(e,t),c(this,"children",[])}addSource(e,t,r,n,o){if(0===t.length)return this.addChild(new a(e,r,n,this,o)),this;let i=this.children.findIndex((e=>e instanceof f&&e.path[0]===t[0]));if(i<0){let i=new f(t,this);return i.addSource(e,[],r,n,o),this.addChild(i),this}let s=this.children[i],c=t.findIndex(((e,t)=>t>=s.path.length||s.path[t]!==e));c<0&&(c=t.length);let u=t.slice(c);return c===s.path.length?s.addSource(e,u,r,n,o):(s.split(c),s.addSource(e,u,r,n,o),s)}getChildren(){return this.treeItem.collapsibleState=e.TreeItemCollapsibleState.Expanded,this.children}addChild(e){let t;t=e instanceof f?this.children.findIndex((t=>!(t instanceof f&&t.treeItem.label<e.treeItem.label))):this.children.findIndex((t=>t instanceof a&&t.treeItem.label>=e.treeItem.label)),t>=0?this.children[t].treeItem.label!==e.treeItem.label&&this.children.splice(t,0,e):this.children.push(e)}}class l extends u{constructor(e,t){super(e.name,t),c(this,"id",void 0),this.id=e.id,this.treeItem.contextValue="thread"}removeSources(){return this.children=[],this}}class f extends u{constructor(e,t){super(e.join("/"),t),this.path=e,this.treeItem.contextValue="directory"}split(e){let t=new f(this.path.slice(e),this);t.children=this.children,t.children.map((e=>e.parent=t)),this.path.splice(e),this.children=[t],this.treeItem.label=this.path.join("/")}getFullPath(){return this.parent.getFullPath()+this.treeItem.label+"/"}}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class d extends s{get id(){return this.session.id}constructor(e,t){super(e.name,t),this.session=e,p(this,"children",[]),p(this,"showThreads",!1),p(this,"sourceUrls",[]),this.treeItem.contextValue="session"}addThread(e){if(!this.children.some((t=>t.id===e.id))){let t=this.children.findIndex((t=>t.treeItem.label>e.name));return t<0&&(t=this.children.length),this.children.splice(t,0,new l(e,this)),this}}removeThread(e){return this.children=this.children.filter((t=>t.id!==e)),this}addSource(e){if(!e.url)return;this.sourceUrls.push(e.url);let t=this.children.find((t=>t.id===e.threadId));if(t){let r,n=function(e){let t,r=e.indexOf(":");r>=0?(r++,"/"===e[r]&&r++,"/"===e[r]&&r++,t=e.indexOf("/",r)):t=0;let n=e.indexOf("?",t);n<0&&(n=e.length);let o=e.substr(0,t),i=e.substr(n),s=e.substring(t,n).split("/");return s[0]=o+s[0],s[s.length-1]+=i,s}(e.url),o=n.pop();if(e.path){if(r=e.path,this.session.workspaceFolder){const e=this.session.workspaceFolder.uri;let t="file"===e.scheme?e.fsPath:e.toString();t+="/",r.startsWith(t)&&(r=r.substring(t.length))}r=` → ${r}`}return this.fixChangedItem(t.addSource(o,n,r,e,this.id))}}removeSources(e){this.sourceUrls=[];let t=this.children.find((t=>t.id===e));return t?t.removeSources():void 0}getSourceUrls(){return this.sourceUrls}getChildren(){return this.treeItem.collapsibleState=e.TreeItemCollapsibleState.Expanded,this.showThreads||this.children.length>1?(this.showThreads=!0,this.children):1==this.children.length?this.children[0].getChildren():[]}fixChangedItem(e){if(e)return!this.showThreads&&e instanceof l?this:e}}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class v extends s{constructor(){super(""),h(this,"children",[]),h(this,"showSessions",!1),this.treeItem.contextValue="root"}addSession(e){if(!this.children.some((t=>t.id===e.id))){let t=this.children.findIndex((t=>t.treeItem.label>e.name));return t<0&&(t=this.children.length),this.children.splice(t,0,new d(e,this)),this}}removeSession(e){return this.children=this.children.filter((t=>t.id!==e)),this}addThread(e,t){let r=this.children.find((e=>e.id===t));return r?this.fixChangedItem(r.addThread(e)):void 0}removeThread(e,t){let r=this.children.find((e=>e.id===t));return r?this.fixChangedItem(r.removeThread(e)):void 0}addSource(e,t){let r=this.children.find((e=>e.id===t));return r?this.fixChangedItem(r.addSource(e)):void 0}removeSources(e,t){let r=this.children.find((e=>e.id===t));return r?this.fixChangedItem(r.removeSources(e)):void 0}getSourceUrls(e){const t=this.children.find((t=>t.id===e));return t?t.getSourceUrls():void 0}getChildren(){return this.treeItem.collapsibleState=e.TreeItemCollapsibleState.Expanded,this.showSessions||this.children.length>1?(this.showSessions=!0,this.children):1==this.children.length?this.children[0].getChildren():[]}fixChangedItem(e){if(e)return!this.showSessions&&e instanceof d?this:e}}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class m{constructor(){g(this,"root",new v),g(this,"treeDataChanged",new e.EventEmitter),g(this,"onDidChangeTreeData",void 0),this.onDidChangeTreeData=this.treeDataChanged.event}getTreeItem(e){return e.treeItem}getChildren(e){return(e||this.root).getChildren()}addSession(e){let t=this.root.addSession(e);this.sendTreeDataChangedEvent(t)}removeSession(e){let t=this.root.removeSession(e);this.sendTreeDataChangedEvent(t)}addThread(e,t){let r=this.root.addThread(e,t);this.sendTreeDataChangedEvent(r)}removeThread(e,t){let r=this.root.removeThread(e,t);this.sendTreeDataChangedEvent(r)}addSource(e,t){let r=this.root.addSource(e,t);this.sendTreeDataChangedEvent(r)}removeSources(e,t){let r=this.root.removeSources(e,t);this.sendTreeDataChangedEvent(r)}getSourceUrls(e){return this.root.getSourceUrls(e)}sendTreeDataChangedEvent(e){e&&(e===this.root?this.treeDataChanged.fire():this.treeDataChanged.fire(e))}}r(5769);const b=require("path");var x=r.n(b);async function w(t){const r=S();if(!r)return;const n=await e.window.showOpenDialog({canSelectFiles:"file"===t.treeItem.contextValue,canSelectFolders:"directory"===t.treeItem.contextValue,canSelectMany:!1,defaultUri:r.workspaceFolder.uri,openLabel:"Map to this "+t.treeItem.contextValue});if(!n||0===n.length)return;let o="file"===n[0].scheme?n[0].fsPath:n[0].toString();"directory"===t.treeItem.contextValue&&(o+="/"),await I(r,t.getFullPath(),o)&&(await C(r.workspaceFolder),e.window.showWarningMessage("Configuration was modified - please restart your debug session for the changes to take effect"))}async function y(t){const r=S();r&&await I(r,t.getFullPath(),null)&&(await C(r.workspaceFolder),e.window.showWarningMessage("Configuration was modified - please restart your debug session for the changes to take effect"))}function S(){const t=e.debug.activeDebugSession;if(!t)return void e.window.showErrorMessage("No active debug session");const r=e.workspace.workspaceFolders;if(!r)return void e.window.showErrorMessage("No open folder");const n=O(r,t);return n||e.window.showErrorMessage(`Couldn't find configuration for active debug session '${t.name}'`),n}function O(t,r){for(const n of t){const t=e.workspace.getConfiguration("launch",n.uri),o=t.get("configurations");if(o)for(let e=0;e<o.length;e++)if(o[e].type===r.type&&o[e].name===r.name)return{workspaceFolder:n,launchConfigFile:t,index:e}}}async function I(t,r,n){const o=t.launchConfigFile.get("configurations"),i=o[t.index];i.pathMappings||(i.pathMappings=[]);const s=t.workspaceFolder.uri.fsPath;n&&n.startsWith(s)&&(n="${workspaceFolder}"+n.substr(s.length)),i.pathMappings.unshift({url:r,path:n});try{return await t.launchConfigFile.update("configurations",o,e.ConfigurationTarget.WorkspaceFolder),!0}catch(t){return e.window.showErrorMessage(t.message),!1}}async function C(t){const r=t.uri.with({path:b.posix.join(t.uri.path,".vscode/launch.json")}),n=await e.workspace.openTextDocument(r);await e.window.showTextDocument(n)}class E{constructor(e){var t,r;this.sendCustomRequest=e,r=void 0,(t="button")in this?Object.defineProperty(this,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[t]=r}async setPopupAutohide(e){await this.sendCustomRequest("setPopupAutohide",e.toString()),this.setButtonText(e)}async togglePopupAutohide(){const e=await this.sendCustomRequest("togglePopupAutohide");this.setButtonText(e)}enableButton(t){this.button||(this.button=e.window.createStatusBarItem(e.StatusBarAlignment.Left),this.button.command="extension.firefox.togglePopupAutohide",this.button.text="",this.button.show()),this.setButtonText(t)}disableButton(){this.button&&(this.button.dispose(),this.button=void 0)}setButtonText(e){this.button&&(this.button.text="Popup auto-hide "+(e?"enabled":"disabled"))}}r(911);const T=require("url");async function P(e,t,r){const n=[];for(const e of t)try{n.push(new T.URL(e))}catch(e){}const o=function(e,t){const r=R(e).path.split("/"),n=r.pop();let o,i=-1;for(const e of t){const t=e.pathname.split("/");if(t.pop()!==n)continue;let s=0;for(;r.length>0&&t.length>0&&r.pop()===t.pop();)s++;s>i&&(o=e,i=s)}return o}(e,n);if(!o)return;const i=await async function(e,t,r){let n={url:t.protocol+"//"+t.host+t.pathname,path:e};for(;;){const e=j(n);if(!e||!await k(e,r))return n;n=e}}(e,o,n);if(r){const e=D(r.uri);i.path.startsWith(e)&&(i.path="${workspaceFolder}"+i.path.substring(e.length))}return i.path=i.path.replace(/\\/g,"/"),i}function j(e){const t=e.url.substring(e.url.lastIndexOf("/")+1),r=M(e.path)?"\\":"/";if(""!==t&&e.path.endsWith(r+t))return{url:e.url.substring(0,e.url.length-t.length-1),path:e.path.substring(0,e.path.length-t.length-1)}}async function k(e,r){for(let n=0;n<r.length;){const o=r[n],i=F(o.protocol+"//"+o.host+o.pathname,e);if(i)try{await t().workspace.fs.stat(R(i)),r.splice(n,1)}catch(e){return!1}else n++}return!0}function F(e,t){if(e.startsWith(t.url)){let r=t.path+e.substring(t.url.length);return M(r)?x().normalize(r):r}}const A=/^[a-zA-Z]:\\/;function M(e){return A.test(e)}function R(e){return M(e)?t().Uri.file(e):t().Uri.parse(e)}function D(e){return"file"===e.scheme?e.fsPath:e.toString()}function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function U(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const $="${workspaceFolder}";class N{resolveDebugConfiguration(e,t){return t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){U(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t),this.overrideFromSettings(e,t),t.url&&!t.webRoot&&!t.pathMappings&&e&&(t.webRoot=D(e.uri)),e&&"vscode-remote"===e.uri.scheme&&(this.resolveWorkspaceFolder(e,t),this.checkLocal(t)),t}overrideFromSettings(t,r){const n=e.workspace.getConfiguration("firefox",t?t.uri:null),o=this.getSetting(n,"executable");o&&(r.firefoxExecutable=o);const i=this.getSetting(n,"args");i&&(r.firefoxArgs=i);const s=this.getSetting(n,"profileDir");s&&(r.profileDir=s);const a=this.getSetting(n,"profile");a&&(r.profile=a);const c=this.getSetting(n,"keepProfileChanges");void 0!==c&&(r.keepProfileChanges=c);const u=this.getSetting(n,"port");void 0!==u&&(r.port=u)}getSetting(e,t){const r=e.inspect(t);if(r)return void 0!==r.workspaceFolderValue?r.workspaceFolderValue:void 0!==r.workspaceValue?r.workspaceValue:void 0!==r.globalValue?r.globalValue:void 0}resolveWorkspaceFolder(e,t){const r=e.uri.toString();if(t.webRoot&&(t.webRoot=t.webRoot.replace($,r)),t.pathMappings){const e=[];for(const n of t.pathMappings)n.path?e.push({url:n.url,path:n.path.replace($,r)}):e.push(n);t.pathMappings=e}}checkLocal(e){function t(e){return function(t){if(t.indexOf($)>=0)throw new Error(e)}}if(e.reloadOnChange){const r=t("The debug adapter can't watch files in a remote workspace for changes");"string"==typeof e.reloadOnChange?r(e.reloadOnChange):Array.isArray(e.reloadOnChange)?e.reloadOnChange.forEach(r):("string"==typeof e.reloadOnChange.watch?r(e.reloadOnChange.watch):e.reloadOnChange.watch.forEach(r),e.reloadOnChange.ignore&&("string"==typeof e.reloadOnChange.ignore?r(e.reloadOnChange.ignore):e.reloadOnChange.ignore.forEach(r)))}e.log&&e.log.fileName&&t("The debug adapter can't write a log file in a remote workspace")(e.log.fileName),"launch"===e.request&&(e.file&&t("Firefox can't open a file in a remote workspace")(e.file),e.profileDir&&t("Firefox can't have its profile in a remote workspace")(e.profileDir))}}function W(r){const n=new m,o=new E(B),i=new N;r.subscriptions.push(e.window.registerTreeDataProvider("extension.firefox.loadedScripts",n)),r.subscriptions.push(e.debug.registerDebugConfigurationProvider("firefox",i)),r.subscriptions.push(e.commands.registerCommand("extension.firefox.reloadAddon",(()=>B("reloadAddon")))),r.subscriptions.push(e.commands.registerCommand("extension.firefox.toggleSkippingFile",(e=>B("toggleSkippingFile",e)))),r.subscriptions.push(e.commands.registerCommand("extension.firefox.openScript",L)),r.subscriptions.push(e.commands.registerCommand("extension.firefox.addPathMapping",w)),r.subscriptions.push(e.commands.registerCommand("extension.firefox.addFilePathMapping",w)),r.subscriptions.push(e.commands.registerCommand("extension.firefox.addNullPathMapping",y)),r.subscriptions.push(e.commands.registerCommand("extension.firefox.addNullFilePathMapping",y)),r.subscriptions.push(e.commands.registerCommand("extension.firefox.enablePopupAutohide",(()=>o.setPopupAutohide(!0)))),r.subscriptions.push(e.commands.registerCommand("extension.firefox.disablePopupAutohide",(()=>o.setPopupAutohide(!1)))),r.subscriptions.push(e.commands.registerCommand("extension.firefox.togglePopupAutohide",(()=>o.togglePopupAutohide()))),r.subscriptions.push(e.commands.registerCommand("extension.firefox.pathMappingWizard",(()=>async function(e){const r=t().window.activeTextEditor;if(!r)return void t().window.showErrorMessage("There is no active text editor");const n=t().debug.activeDebugSession;if(!n)return void t().window.showErrorMessage("There is no active debug session");if("firefox"!==n.type)return void t().window.showErrorMessage('The active debug session is not of type "firefox"');const o=t().workspace.workspaceFolders;if(!o)return void t().window.showErrorMessage("There is no open folder");const i=O(o,n);if(!i)return void t().window.showErrorMessage(`Couldn't find configuration for active debug session "${n.name}"`);const s=e.getSourceUrls(n.id);if(!s)return void t().window.showErrorMessage("Couldn't load the sources of the active debug session");if(0===s.length)return void t().window.showWarningMessage("Firefox didn't load any sources in the active debug session yet");const a=D(r.document.uri),c=await P(a,s,n.workspaceFolder);if(c)await I(i,c.url,c.path)&&(await C(i.workspaceFolder),t().window.showWarningMessage("Configuration was modified - please restart your debug session for the changes to take effect"));else{const e=r.document.uri.path.split("/").pop();t().window.showWarningMessage(`Firefox hasn't loaded any file named "${e}"`)}}(n)))),r.subscriptions.push(e.debug.onDidReceiveDebugSessionCustomEvent((e=>function(e,r,n){if("firefox"===e.session.type)switch(e.event){case"threadStarted":r.addThread(e.body,e.session.id);break;case"threadExited":r.removeThread(e.body.id,e.session.id);break;case"newSource":r.addSource(e.body,e.session.id);break;case"removeSources":r.removeSources(e.body.threadId,e.session.id);break;case"popupAutohide":n.enableButton(e.body.popupAutohide);break;case"unknownSource":!async function(e,r,n){const o=t().workspace.workspaceFolders;if(!o)return;const i=O(o,r);if(!i)return;const s=n.getSourceUrls(r.id);if(!s||0===s.length)return;const a=await P(e,s,r.workspaceFolder);a&&"Yes"===await t().window.showInformationMessage("This file's path isn't mapped to any url that was loaded by Firefox. Either this file hasn't been loaded by Firefox yet or your debug configuration needs a pathMapping for this file - do you think the file has already been loaded and want to let the Path Mapping Wizard try to create a pathMapping for you?","Yes","No")&&await I(i,a.url,a.path)&&(await C(i.workspaceFolder),t().window.showWarningMessage("Configuration was modified - please restart your debug session for the changes to take effect"))}(e.body,e.session,r)}}(e,n,o)))),r.subscriptions.push(e.debug.onDidStartDebugSession((e=>function(e,t){"firefox"===e.type&&(t.addSession(e),V++)}(e,n)))),r.subscriptions.push(e.debug.onDidTerminateDebugSession((e=>function(e,t,r){"firefox"===e.type&&(t.removeSession(e.id),V--,0===V&&r.disableButton())}(e,n,o))))}async function B(t,r){let n=e.debug.activeDebugSession;if(n&&"firefox"===n.type)return await n.customRequest(t,r);n?e.window.showErrorMessage('The active debug session is not of type "firefox"'):e.window.showErrorMessage("There is no active debug session")}let V=0;async function L(t){let r;r=i()(t)?e.Uri.parse(t):e.Uri.file(t);const n=await e.workspace.openTextDocument(r);e.window.showTextDocument(n)}})(),module.exports=n})();
//# sourceMappingURL=extension.bundle.js.map